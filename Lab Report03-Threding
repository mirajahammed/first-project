
class SharedCounter {
    private int counter = 0;
    public synchronized int incrementAndGet() {
        counter++;
        return counter;
    }
}

class NumberPrinter extends Thread {
    private SharedCounter sharedCounter;

    public NumberPrinter(SharedCounter sharedCounter) {
        this.sharedCounter = sharedCounter;
    }

    @Override
    public void run() {
        for (int i = 1; i <= 10; i++) {
            int currentCounter = sharedCounter.incrementAndGet();
            System.out.println("Number Thread: " + i + " (Shared Counter: " + currentCounter + ")");
            try {
                Thread.sleep(500); 
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}


class SquarePrinter implements Runnable {
    private SharedCounter sharedCounter;

    public SquarePrinter(SharedCounter sharedCounter) {
        this.sharedCounter = sharedCounter;
    }

    @Override
    public void run() {
        for (int i = 1; i <= 10; i++) {
            int square = i * i;
            int currentCounter = sharedCounter.incrementAndGet();
            System.out.println("Square Thread: " + square + " (Shared Counter: " + currentCounter + ")");
            try {
                Thread.sleep(500); 
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}


public class MultithreadingDemo {
    public static void main(String[] args) {
        SharedCounter sharedCounter = new SharedCounter();

        
        Thread numberThread = new NumberPrinter(sharedCounter);
        Thread squareThread = new Thread(new SquarePrinter(sharedCounter));

        
        numberThread.start();
        squareThread.start();

        try {
            numberThread.join();
            squareThread.join();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        System.out.println("Both threads have finished execution.");
    }
}
